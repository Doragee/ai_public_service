<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 기반 지능형 민원 관리 시스템 - 3조 프로젝트</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .modal { display: none; }
        .modal.active { display: flex; }
        .typing-animation {
            border-right: 2px solid #3B82F6;
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0%, 50% { border-color: transparent; }
            51%, 100% { border-color: #3B82F6; }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Header -->
    <header class="bg-blue-600 text-white p-4">
        <div class="container mx-auto">
            <h1 class="text-2xl font-bold flex items-center">
                <i class="fas fa-brain mr-3"></i>
                AI 기반 지능형 민원 관리 시스템
            </h1>
            <p class="text-blue-200 mt-2">3조 팀 프로젝트 - 여인철(통계청), 권영(군산시), 이희진(인사혁신처), 지상준(국세청)</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md">
        <div class="container mx-auto">
            <div class="flex space-x-0">
                <button onclick="showTab('overview')" class="tab-btn flex-1 px-6 py-4 text-gray-700 hover:text-blue-600 hover:bg-blue-50 border-b-2 border-transparent hover:border-blue-600 transition-all duration-200 active-tab">
                    <i class="fas fa-home mr-2"></i>시스템 개요
                </button>
                <button onclick="showTab('submit')" class="tab-btn flex-1 px-6 py-4 text-gray-700 hover:text-blue-600 hover:bg-blue-50 border-b-2 border-transparent hover:border-blue-600 transition-all duration-200">
                    <i class="fas fa-edit mr-2"></i>민원 접수
                </button>
                <button onclick="showTab('process')" class="tab-btn flex-1 px-6 py-4 text-gray-700 hover:text-blue-600 hover:bg-blue-50 border-b-2 border-transparent hover:border-blue-600 transition-all duration-200">
                    <i class="fas fa-search mr-2"></i>민원 처리
                </button>
                <button onclick="showTab('manage')" class="tab-btn flex-1 px-6 py-4 text-gray-700 hover:text-blue-600 hover:bg-blue-50 border-b-2 border-transparent hover:border-blue-600 transition-all duration-200">
                    <i class="fas fa-exclamation-triangle mr-2"></i>악성 민원인 관리
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto p-6">
        <!-- System Overview Tab -->
        <div id="overview" class="tab-content active">
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">
                    <i class="fas fa-lightbulb text-yellow-500 mr-3"></i>
                    AI 기반 지능형 민원 관리 시스템
                </h2>
                
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-blue-800 mb-4">
                            <i class="fas fa-users mr-2"></i>팀 구성
                        </h3>
                        <div class="space-y-2">
                            <p><strong>팀 대표:</strong> 여인철 (통계청)</p>
                            <p><strong>팀원:</strong></p>
                            <ul class="ml-4 space-y-1">
                                <li>• 권영 (군산시)</li>
                                <li>• 이희진 (인사혁신처)</li>
                                <li>• 지상준 (국세청)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="bg-red-50 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-red-800 mb-4">
                            <i class="fas fa-exclamation-circle mr-2"></i>핵심 문제
                        </h3>
                        <ul class="space-y-2 text-sm">
                            <li>• 유사 민원 반복 처리로 인한 비효율성</li>
                            <li>• 악의적 반복 민원으로 인한 행정 낭비</li>
                            <li>• 수작업 담당자 배정으로 인한 처리 지연</li>
                            <li>• 민원인의 유사 민원 검색 불가능</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-green-50 p-6 rounded-lg mb-8">
                    <h3 class="text-xl font-semibold text-green-800 mb-4">
                        <i class="fas fa-rocket mr-2"></i>AI 기반 해결방안
                    </h3>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-medium text-green-700 mb-2">자동화 기능</h4>
                            <ul class="text-sm space-y-1">
                                <li>• AI 기반 담당자 자동 배정</li>
                                <li>• 유사 민원 즉시 탐색 및 답변 제공</li>
                                <li>• 반복 민원인 자동 식별 및 추적</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-medium text-green-700 mb-2">지원 기능</h4>
                            <ul class="text-sm space-y-1">
                                <li>• 국가법령정보센터 연동</li>
                                <li>• AI 답변 초안 생성</li>
                                <li>• 민원 지식 기반 확장</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="bg-purple-50 p-6 rounded-lg">
                    <h3 class="text-xl font-semibold text-purple-800 mb-4">
                        <i class="fas fa-robot mr-2"></i>AI 개입 포인트 (4단계)
                    </h3>
                    <div class="grid md:grid-cols-4 gap-4">
                        <div class="text-center">
                            <div class="bg-purple-200 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-2">
                                <span class="font-bold text-purple-800">1</span>
                            </div>
                            <p class="text-sm font-medium">민원 접수</p>
                            <p class="text-xs text-gray-600">유사 민원 즉시 탐색</p>
                        </div>
                        <div class="text-center">
                            <div class="bg-purple-200 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-2">
                                <span class="font-bold text-purple-800">2</span>
                            </div>
                            <p class="text-sm font-medium">담당 배정</p>
                            <p class="text-xs text-gray-600">AI 기반 자동 배정</p>
                        </div>
                        <div class="text-center">
                            <div class="bg-purple-200 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-2">
                                <span class="font-bold text-purple-800">3</span>
                            </div>
                            <p class="text-sm font-medium">답변 작성</p>
                            <p class="text-xs text-gray-600">가이드라인 제시</p>
                        </div>
                        <div class="text-center">
                            <div class="bg-purple-200 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-2">
                                <span class="font-bold text-purple-800">4</span>
                            </div>
                            <p class="text-sm font-medium">악성 탐지</p>
                            <p class="text-xs text-gray-600">패턴 분석 및 알림</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Complaint Submission Tab -->
        <div id="submit" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-edit text-blue-500 mr-3"></i>
                    민원 접수 (일반 민원인용)
                </h2>
                
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <form id="complaintForm" class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">민원 제목</label>
                                <input type="text" id="complaintTitle" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="민원 제목을 입력하세요">
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">카테고리</label>
                                <select class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option>주택/부동산</option>
                                    <option>교통/도로</option>
                                    <option>환경/위생</option>
                                    <option>복지/의료</option>
                                    <option>기타</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">민원 내용</label>
                                <textarea id="complaintContent" rows="8" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="세종시 청년주택지원사업 신청서 제출관련 민원"></textarea>
                            </div>
                            
                            <div class="flex space-x-4">
                                <button type="button" onclick="checkSimilarComplaints()" class="bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors">
                                    <i class="fas fa-search mr-2"></i>유사 민원 검색
                                </button>
                                <button type="submit" class="bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors">
                                    <i class="fas fa-paper-plane mr-2"></i>민원 제출
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="bg-gray-50 p-6 rounded-lg">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">
                            <i class="fas fa-info-circle text-blue-500 mr-2"></i>민원 작성 안내
                        </h3>
                        <div class="space-y-3 text-sm text-gray-600">
                            <p>• 구체적이고 명확한 내용으로 작성해주세요</p>
                            <p>• 개인정보는 자동으로 보호 처리됩니다</p>
                            <p>• 유사한 민원이 있는 경우 기존 답변을 확인할 수 있습니다</p>
                            <p>• 처리 과정은 실시간으로 안내드립니다</p>
                        </div>
                        
                        <div class="mt-6 p-4 bg-yellow-100 rounded-lg">
                            <h4 class="font-medium text-yellow-800 mb-2">
                                <i class="fas fa-clock mr-2"></i>처리 예상 시간
                            </h4>
                            <p class="text-sm text-yellow-700">일반 민원: 3-5일</p>
                            <p class="text-sm text-yellow-700">긴급 민원: 1-2일</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Complaint Processing Tab -->
        <div id="process" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-search text-green-500 mr-3"></i>
                    민원 처리 (담당자용)
                </h2>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Current Complaint -->
                    <div class="space-y-6">
                        <div class="bg-blue-50 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold text-blue-800 mb-4">현재 처리 민원</h3>
                            <div class="space-y-2 text-sm">
                                <p><strong>민원번호:</strong> 2024-SJ-7891</p>
                                <p><strong>제목:</strong> 세종시 청년주택지원사업 신청서 제출관련 민원</p>
                                <p><strong>접수일:</strong> 2024.11.18</p>
                                <p><strong>민원인:</strong> 김***</p>
                                <p><strong>카테고리:</strong> 주택/부동산</p>
                            </div>
                        </div>
                        
                        <div class="bg-green-50 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold text-green-800 mb-4">
                                <i class="fas fa-robot mr-2"></i>AI 분석 결과
                            </h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-medium">민원 유형:</span>
                                    <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">신청 절차 문의</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-medium">긴급도:</span>
                                    <span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">보통</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm font-medium">추천 담당자:</span>
                                    <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">주택정책과 김주택</span>
                                </div>
                                <div>
                                    <span class="text-sm font-medium block mb-2">키워드:</span>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">청년주택</span>
                                        <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">신청서</span>
                                        <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">제출</span>
                                        <span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">세종시</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-purple-50 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold text-purple-800 mb-4">
                                <i class="fas fa-gavel mr-2"></i>관련 법령 정보
                            </h3>
                            <div class="text-sm space-y-2">
                                <p><strong>주요 법령:</strong> 주택법 제23조 (청년주택 공급)</p>
                                <p><strong>시행령:</strong> 주택법 시행령 제29조</p>
                                <p><strong>세종시 조례:</strong> 세종특별자치시 청년주택 공급 및 운영 조례</p>
                                <button class="text-purple-600 hover:text-purple-800 underline mt-2" onclick="showLegalInfo()">
                                    <i class="fas fa-external-link-alt mr-1"></i>상세 법령 보기
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Similar Complaints and AI Response -->
                    <div class="space-y-6">
                        <div class="bg-orange-50 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold text-orange-800 mb-4">
                                <i class="fas fa-history mr-2"></i>유사 민원 검색 결과
                            </h3>
                            <div class="space-y-4">
                                <div class="bg-white p-4 rounded border-l-4 border-orange-400">
                                    <div class="flex justify-between items-start mb-2">
                                        <span class="text-sm font-medium text-gray-800">2024-SJ-6543: 세종시 청년주택지원사업 문의</span>
                                        <span class="px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs">유사도: 89%</span>
                                    </div>
                                    <p class="text-sm text-gray-600 mb-3">청년주택지원사업 신청 방법과 필요 서류에 대한 문의</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-500">처리완료 | 2024.11.15</span>
                                        <button onclick="showFullAnswer()" class="px-3 py-1 bg-orange-600 text-white rounded text-xs hover:bg-orange-700">
                                            답변 전체 보기
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="bg-white p-4 rounded border-l-4 border-orange-400">
                                    <div class="flex justify-between items-start mb-2">
                                        <span class="text-sm font-medium text-gray-800">2024-SJ-5234: 청년주택 자격요건 확인</span>
                                        <span class="px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs">유사도: 76%</span>
                                    </div>
                                    <p class="text-sm text-gray-600 mb-3">청년주택 신청 자격요건 및 소득기준 관련 문의</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-500">처리완료 | 2024.11.10</span>
                                        <button class="px-3 py-1 bg-orange-600 text-white rounded text-xs hover:bg-orange-700">
                                            답변 전체 보기
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-indigo-50 p-6 rounded-lg">
                            <h3 class="text-lg font-semibold text-indigo-800 mb-4">
                                <i class="fas fa-magic mr-2"></i>AI 답변 추천
                            </h3>
                            <div class="bg-white p-4 rounded border text-sm">
                                <p class="font-medium mb-2">추천 답변 초안:</p>
                                <div class="text-gray-700 space-y-2">
                                    <p>안녕하세요. 세종특별자치시청입니다.</p>
                                    <p>세종시 청년주택지원사업 신청서 제출에 관해 답변드리겠습니다.</p>
                                    <p><strong>신청 방법:</strong></p>
                                    <p>1. 온라인 접수: 세종시 홈페이지 → 청년주택 신청</p>
                                    <p>2. 방문 접수: 세종시청 주택정책과 (1층 117호)</p>
                                    <p><strong>필요 서류:</strong> 신청서, 소득증명서, 주민등록등본...</p>
                                </div>
                                <button class="mt-3 px-4 py-2 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700">
                                    답변 적용하기
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Malicious Complainant Management Tab -->
        <div id="manage" class="tab-content">
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <i class="fas fa-exclamation-triangle text-red-500 mr-3"></i>
                    악성 민원인 관리 (총괄 담당자용)
                </h2>
                
                <div class="grid lg:grid-cols-3 gap-8 mb-8">
                    <div class="bg-red-50 p-6 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-red-600">이번 달 악성 민원인</p>
                                <p class="text-3xl font-bold text-red-800">23명</p>
                            </div>
                            <i class="fas fa-user-times text-4xl text-red-400"></i>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-50 p-6 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-yellow-600">반복 민원 건수</p>
                                <p class="text-3xl font-bold text-yellow-800">187건</p>
                            </div>
                            <i class="fas fa-redo-alt text-4xl text-yellow-400"></i>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-blue-600">처리 시간 절약</p>
                                <p class="text-3xl font-bold text-blue-800">32시간</p>
                            </div>
                            <i class="fas fa-clock text-4xl text-blue-400"></i>
                        </div>
                    </div>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">악성 민원인 목록</h3>
                        <div class="bg-gray-50 rounded-lg overflow-hidden">
                            <table class="w-full">
                                <thead class="bg-gray-200">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-700">민원인</th>
                                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-700">반복 횟수</th>
                                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-700">최근 접수일</th>
                                        <th class="px-4 py-3 text-left text-sm font-medium text-gray-700">상태</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-4 py-3 text-sm">박***</td>
                                        <td class="px-4 py-3 text-sm">12회</td>
                                        <td class="px-4 py-3 text-sm">2024.11.18</td>
                                        <td class="px-4 py-3"><span class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs">경고</span></td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 text-sm">이***</td>
                                        <td class="px-4 py-3 text-sm">8회</td>
                                        <td class="px-4 py-3 text-sm">2024.11.17</td>
                                        <td class="px-4 py-3"><span class="px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs">주의</span></td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 text-sm">김***</td>
                                        <td class="px-4 py-3 text-sm">6회</td>
                                        <td class="px-4 py-3 text-sm">2024.11.16</td>
                                        <td class="px-4 py-3"><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">모니터링</span></td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 text-sm">최***</td>
                                        <td class="px-4 py-3 text-sm">15회</td>
                                        <td class="px-4 py-3 text-sm">2024.11.15</td>
                                        <td class="px-4 py-3"><span class="px-2 py-1 bg-red-100 text-red-800 rounded text-xs">경고</span></td>
                                    </tr>
                                    <tr>
                                        <td class="px-4 py-3 text-sm">정***</td>
                                        <td class="px-4 py-3 text-sm">4회</td>
                                        <td class="px-4 py-3 text-sm">2024.11.14</td>
                                        <td class="px-4 py-3"><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded text-xs">모니터링</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">월별 반복 민원 현황</h3>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <canvas id="monthlyChart" style="height: 300px;"></canvas>
                        </div>
                        
                        <div class="mt-6 bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-medium text-blue-800 mb-3">
                                <i class="fas fa-bell mr-2"></i>실시간 알림
                            </h4>
                            <div class="space-y-2 text-sm">
                                <div class="flex items-center justify-between bg-white p-3 rounded">
                                    <span>박*** 님 12번째 반복 민원 접수</span>
                                    <span class="text-xs text-gray-500">방금 전</span>
                                </div>
                                <div class="flex items-center justify-between bg-white p-3 rounded">
                                    <span>이*** 님 8번째 반복 민원 접수</span>
                                    <span class="text-xs text-gray-500">2분 전</span>
                                </div>
                                <div class="flex items-center justify-between bg-white p-3 rounded">
                                    <span>AI 분석: 새로운 패턴 감지</span>
                                    <span class="text-xs text-gray-500">5분 전</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Similar Complaint Warning Modal -->
    <div id="similarModal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-semibold text-orange-800">
                        <i class="fas fa-exclamation-triangle mr-2"></i>
                        유사한 민원이 발견되었습니다
                    </h3>
                    <button onclick="closeSimilarModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="bg-yellow-50 p-4 rounded-lg mb-4">
                    <p class="text-sm text-yellow-800">
                        <i class="fas fa-info-circle mr-2"></i>
                        아래 기존 답변을 확인하시고, 원하는 정보를 얻으셨다면 민원 제출을 취소하시기 바랍니다.
                    </p>
                </div>
                
                <div class="space-y-4">
                    <div class="border rounded-lg p-4">
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-medium text-gray-800">민원번호: 123456</h4>
                            <span class="px-2 py-1 bg-orange-100 text-orange-800 rounded text-sm">유사도: 89%</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">제목: "세종시 청년주택지원사업 신청서 제출관련 민원"</p>
                        
                        <div class="bg-blue-50 p-4 rounded">
                            <h5 class="font-medium text-blue-800 mb-2">
                                <i class="fas fa-building mr-2"></i>세종시 주택정책과 답변:
                            </h5>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p><strong>안녕하세요. 세종특별자치시청입니다.</strong></p>
                                <p>세종시 청년주택지원사업 신청 방법을 안내드립니다.</p>
                                <p><strong>신청방법:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• 온라인 신청: 세종시 홈페이지 (sejong.go.kr) → 정책정보 → 청년주택지원</li>
                                    <li>• 방문 신청: 세종시청 주택정책과 1층 117호 (무부별로 주택지원팀)</li>
                                    <li>• 전화 문의: 044-300-3456 (평일 09:00~18:00)</li>
                                </ul>
                                <p><strong>지원대상:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• 만 19~39세 무주택 청년</li>
                                    <li>• 소득 기준: 전년도 도시근로자 가구원수별 가구당 월평균소득 120% 이하</li>
                                </ul>
                                <p><strong>필요서류:</strong></p>
                                <ul class="ml-4 space-y-1">
                                    <li>• 신청서 (세종시 홈페이지 다운로드)</li>
                                    <li>• 소득증명서류 (재직증명서, 소득금액증명원 등)</li>
                                    <li>• 주민등록등본</li>
                                    <li>• 건강보험자격득실확인서</li>
                                </ul>
                                <p class="mt-3"><strong>처리기간:</strong> 접수 후 14일 이내 결과 통보</p>
                                <p>추가 문의사항이 있으시면 언제든 연락 주시기 바랍니다.</p>
                                <p class="mt-2 font-medium">세종특별자치시 주택정책과<br>담당자: 김주택 (044-300-3456)</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 mt-6">
                    <button onclick="closeSimilarModal()" class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600">
                        민원 제출 취소
                    </button>
                    <button onclick="proceedWithSubmission()" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        그래도 제출하기
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Full Answer Modal -->
    <div id="fullAnswerModal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-semibold text-blue-800">민원 답변 전체 내용</h3>
                    <button onclick="closeFullAnswerModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="bg-gray-50 p-6 rounded-lg">
                    <div class="mb-4 pb-4 border-b">
                        <h4 class="font-semibold text-gray-800">민원번호: 2024-SJ-6543</h4>
                        <p class="text-sm text-gray-600">제목: 세종시 청년주택지원사업 문의</p>
                        <p class="text-sm text-gray-600">접수일: 2024.11.12 | 처리일: 2024.11.15</p>
                        <p class="text-sm text-gray-600">담당부서: 세종시 주택정책과</p>
                    </div>
                    
                    <div class="prose prose-sm max-w-none">
                        <p><strong>민원인 귀하,</strong></p>
                        <p>안녕하세요. 세종특별자치시청 주택정책과입니다.</p>
                        <p>세종시 청년주택지원사업에 대해 문의주신 내용에 대해 상세히 답변드리겠습니다.</p>
                        
                        <h5 class="font-semibold mt-4 mb-2">【사업 개요】</h5>
                        <p>세종시는 청년들의 주거 안정을 위해 다양한 주택지원사업을 시행하고 있습니다. 주요 지원 내용은 다음과 같습니다:</p>
                        
                        <h5 class="font-semibold mt-4 mb-2">【지원 대상】</h5>
                        <ul>
                            <li>만 19세 이상 39세 이하 무주택 청년</li>
                            <li>세종시 거주 또는 거주 예정자</li>
                            <li>전년도 도시근로자 가구원수별 가구당 월평균소득 120% 이하</li>
                            <li>보증금 마련이 어려운 청년층</li>
                        </ul>
                        
                        <h5 class="font-semibold mt-4 mb-2">【지원 내용】</h5>
                        <ul>
                            <li>전세자금 대출 이자 지원 (연 2% 이내)</li>
                            <li>보증금 지원 (최대 2억원)</li>
                            <li>월세 지원 (월 최대 30만원, 2년간)</li>
                            <li>청년 맞춤형 임대주택 공급</li>
                        </ul>
                        
                        <h5 class="font-semibold mt-4 mb-2">【신청 방법】</h5>
                        <ol>
                            <li><strong>온라인 신청:</strong> 세종시 홈페이지(sejong.go.kr) → 정책정보 → 청년주택지원</li>
                            <li><strong>방문 신청:</strong> 세종시청 주택정책과 (1층 117호)</li>
                            <li><strong>우편 신청:</strong> (30130) 세종특별자치시 한누리대로 2130 세종시청</li>
                        </ol>
                        
                        <h5 class="font-semibold mt-4 mb-2">【필요 서류】</h5>
                        <ul>
                            <li>청년주택지원 신청서 (세종시 홈페이지 서식 다운로드)</li>
                            <li>소득 관련 서류 (재직증명서, 소득금액증명원, 급여명세서 등)</li>
                            <li>주민등록등본 (최근 3개월 이내 발급)</li>
                            <li>건강보험자격득실확인서</li>
                            <li>무주택 확인서</li>
                            <li>통장사본</li>
                        </ul>
                        
                        <h5 class="font-semibold mt-4 mb-2">【심사 및 처리 절차】</h5>
                        <ol>
                            <li>신청서류 접수 및 검토 (3일)</li>
                            <li>자격 요건 심사 (7일)</li>
                            <li>현장 확인 (필요시)</li>
                            <li>지원 대상자 선정 (3일)</li>
                            <li>결과 통보 (1일)</li>
                        </ol>
                        <p><strong>총 처리기간: 14일 이내</strong></p>
                        
                        <h5 class="font-semibold mt-4 mb-2">【문의처】</h5>
                        <ul>
                            <li><strong>담당부서:</strong> 세종특별자치시 주택정책과 청년주택지원팀</li>
                            <li><strong>전화번호:</strong> 044-300-3456</li>
                            <li><strong>팩스:</strong> 044-300-3459</li>
                            <li><strong>이메일:</strong> youth.house@korea.kr</li>
                            <li><strong>운영시간:</strong> 평일 09:00~18:00 (점심시간 12:00~13:00 제외)</li>
                        </ul>
                        
                        <p class="mt-4">추가로 궁금한 사항이 있으시면 언제든 연락 주시기 바라며, 청년들의 주거 안정을 위해 최선을 다하겠습니다.</p>
                        
                        <p class="mt-4"><strong>2024년 11월 15일<br>
                        세종특별자치시청 주택정책과장 이주택</strong></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Legal Info Modal -->
    <div id="legalModal" class="modal fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-screen overflow-y-auto">
            <div class="p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-xl font-semibold text-purple-800">
                        <i class="fas fa-gavel mr-2"></i>관련 법령 상세 정보
                    </h3>
                    <button onclick="closeLegalModal()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="space-y-6">
                    <div class="bg-purple-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-purple-800 mb-3">주택법 제23조 (청년주택 공급)</h4>
                        <div class="text-sm text-gray-700 space-y-2">
                            <p><strong>제23조</strong> 국가 및 지방자치단체는 청년의 주거안정을 위하여 다음 각 호의 시책을 추진할 수 있다.</p>
                            <ol class="ml-4 space-y-1">
                                <li>1. 청년을 위한 임대주택의 우선 공급</li>
                                <li>2. 청년 주거비 지원</li>
                                <li>3. 청년 주택 구입 자금 지원</li>
                                <li>4. 그 밖에 청년 주거안정을 위해 필요한 사항</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="bg-blue-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-blue-800 mb-3">주택법 시행령 제29조</h4>
                        <div class="text-sm text-gray-700 space-y-2">
                            <p><strong>제29조</strong> 법 제23조에 따른 청년주택 지원의 구체적 기준은 다음과 같다.</p>
                            <ol class="ml-4 space-y-1">
                                <li>1. 지원 대상: 만 19세 이상 39세 이하</li>
                                <li>2. 소득 기준: 도시근로자 가구당 월평균소득 120% 이하</li>
                                <li>3. 무주택 요건: 신청일 기준 무주택자</li>
                            </ol>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 p-6 rounded-lg">
                        <h4 class="font-semibold text-green-800 mb-3">세종특별자치시 청년주택 공급 및 운영 조례</h4>
                        <div class="text-sm text-gray-700 space-y-2">
                            <p><strong>제1조(목적)</strong> 이 조례는 세종특별자치시 청년들의 주거안정과 자립기반 조성을 위한 청년주택 공급 및 운영에 필요한 사항을 규정함을 목적으로 한다.</p>
                            <p><strong>제3조(지원내용)</strong> 시장은 청년주택 지원을 위해 다음 각 호의 사업을 시행한다.</p>
                            <ol class="ml-4 space-y-1">
                                <li>1. 청년 임대주택 공급</li>
                                <li>2. 주거비 지원</li>
                                <li>3. 전세자금 대출 이자 지원</li>
                                <li>4. 기타 청년 주거안정을 위한 사업</li>
                            </ol>
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 p-4 bg-gray-100 rounded-lg">
                    <p class="text-sm text-gray-600">
                        <i class="fas fa-info-circle mr-2"></i>
                        법령 정보는 국가법령정보센터(law.go.kr)에서 제공되며, 최신 개정 내용은 해당 사이트에서 확인하시기 바랍니다.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-btn');
            tabButtons.forEach(btn => {
                btn.classList.remove('active-tab', 'text-blue-600', 'border-blue-600');
                btn.classList.add('text-gray-700', 'border-transparent');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab button
            event.target.classList.add('active-tab', 'text-blue-600', 'border-blue-600');
            event.target.classList.remove('text-gray-700', 'border-transparent');
            
            // Initialize chart when management tab is shown
            if (tabName === 'manage') {
                setTimeout(initChart, 100);
            }
        }

        // Similar complaints check functionality
        function checkSimilarComplaints() {
            const title = document.getElementById('complaintTitle').value;
            const content = document.getElementById('complaintContent').value;
            
            if (!title && !content) {
                alert('제목 또는 내용을 입력해주세요.');
                return;
            }
            
            // Simulate AI analysis with loading
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>AI 분석 중...';
            button.disabled = true;
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
                
                // Show similar complaint modal
                document.getElementById('similarModal').classList.add('active');
            }, 2000);
        }

        // Modal functions
        function closeSimilarModal() {
            document.getElementById('similarModal').classList.remove('active');
        }

        function proceedWithSubmission() {
            closeSimilarModal();
            alert('민원이 접수되었습니다. 처리 과정을 안내드리겠습니다.');
        }

        function showFullAnswer() {
            document.getElementById('fullAnswerModal').classList.add('active');
        }

        function closeFullAnswerModal() {
            document.getElementById('fullAnswerModal').classList.remove('active');
        }

        function showLegalInfo() {
            document.getElementById('legalModal').classList.add('active');
        }

        function closeLegalModal() {
            document.getElementById('legalModal').classList.remove('active');
        }

        // Chart initialization
        function initChart() {
            const ctx = document.getElementById('monthlyChart');
            if (!ctx) return;
            
            // Check if chart already exists and destroy it
            if (window.monthlyChartInstance) {
                window.monthlyChartInstance.destroy();
            }
            
            window.monthlyChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['7월', '8월', '9월', '10월', '11월'],
                    datasets: [{
                        label: '반복 민원 건수',
                        data: [45, 52, 38, 67, 87],
                        borderColor: 'rgb(59, 130, 246)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4
                    }, {
                        label: '악성 민원인 수',
                        data: [12, 15, 10, 18, 23],
                        borderColor: 'rgb(239, 68, 68)',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // Auto-fill demo data when complaint form is focused
        document.getElementById('complaintTitle').addEventListener('focus', function() {
            if (!this.value) {
                this.value = '세종시 청년주택지원사업 신청서 제출관련 민원';
            }
        });

        document.getElementById('complaintContent').addEventListener('focus', function() {
            if (!this.value) {
                this.value = '세종시 청년 주택지원사업에 신청하고 싶은데 어떻게 해야 하나요? 신청 방법과 필요한 서류, 지원 대상 등에 대해 자세히 알고 싶습니다. 온라인으로도 신청 가능한지 궁금합니다.';
            }
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Set first tab as active
            document.querySelector('.tab-btn').classList.add('active-tab', 'text-blue-600', 'border-blue-600');
        });
    </script>
</body>
</html>
